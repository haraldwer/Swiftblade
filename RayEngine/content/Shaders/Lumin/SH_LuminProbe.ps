#version 330

#include "Shaders/Uniforms/SH_FrameUniforms.si"
#include "Shaders/Uniforms/SH_TexUniforms.si"

in vec2 TexCoord;
out vec4 Output;

void main()
{
    vec4 col = texture(TexFrame, TexCoord);
    if (col.a < 0.01)
        discard;
    Output.rgb = col.rgb;
    
    vec3 worldPos = SampleWorldPos(TexCoord).xyz;
    float camDist = length(worldPos - CameraPosition);
    Output.a = camDist / NearFar.y; 
}