#include "Shaders/Uniforms/SH_FrameUniforms.si"

uniform sampler2D TexIrradiance;
uniform sampler2D TexPrefilter;

uniform sampler2D TexFrameIrradiance;
uniform sampler2D TexFramePrefilter;

in vec2 TexCoord;
out vec4 OutIrradiance;
out vec3 OutPrefilter;

void main()
{
    vec4 irradianceFrame = texture(TexFrameIrradiance, TexCoord);
    vec3 prefilterFrame = texture(TexFramePrefilter, TexCoord).rgb;
    vec4 irradiance = texture(TexIrradiance, TexCoord);
    vec3 prefilter = texture(TexPrefilter, TexCoord).rgb;
    
    OutIrradiance.rgb = mix(irradiance.rgb, irradianceFrame.rgb, 0.1);
    OutIrradiance.a = irradianceFrame.a;
    
    OutPrefilter = mix(prefilter, prefilterFrame, 0.1);
}