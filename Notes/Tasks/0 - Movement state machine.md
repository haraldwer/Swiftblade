There should be a movement state machine with some basic movement functionality

Reuse the old state machine solution!

States:
Idle
Run
InAir
Crouch
Slide
Wall